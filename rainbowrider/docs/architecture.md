# Architecture Documentation

**Project:** rainbowrider
**Type:** Unity 2D Game
**Last Updated:** 2026-01-10

## Technical Architecture

### Technology Stack

- **Unity Engine**: 6000.2.10f1 (Unity 6)
- **C#**: Primary programming language
- **Universal Render Pipeline (URP)**: 17.2.0 - Modern rendering pipeline
- **Unity Input System**: 1.14.2 - New input system
- **Unity 2D Packages**: Animation, Sprite, Tilemap, SpriteShape

### Project Type

Unity 2D Game - Side-scrolling game with chunk-based mechanics

## Architecture Overview

Rainbow Rider is a Unity 2D game project featuring:
- Rainbow slug character (RainbowSlug.prefab)
- Chunk-based gameplay (chunk_square.prefab)
- Universal Render Pipeline for modern 2D rendering
- Unity Input System for controls

### Core Systems

1. **Rendering System**
   - Universal Render Pipeline (URP) 17.2.0
   - 2D Sprite rendering
   - Lit2D scene template support

2. **Input System**
   - Unity Input System 1.14.2
   - Input actions defined in `Assets/InputSystem_Actions.inputactions`
   - Modern input handling

3. **Asset Organization**
   - Scenes: `Assets/_Scenes/` and `Assets/Scenes/`
   - Scripts: `Assets/_Scripts/` (7,576 C# files)
   - Sprites: `Assets/_Sprites/` with prefabs
   - Prefabs: `Assets/_Prefabs/`

## Key Design Decisions

### Universal Render Pipeline
- **Rationale**: Modern, performant rendering pipeline
- **Benefit**: Better performance and visual quality
- **Configuration**: URP settings in `Assets/Settings/`

### Unity Input System
- **Rationale**: Modern, flexible input handling
- **Benefit**: Better cross-platform support
- **Configuration**: Input actions in `Assets/InputSystem_Actions.inputactions`

### Chunk-Based Gameplay
- **Rationale**: Modular, scalable level design
- **Implementation**: chunk_square.prefab system
- **Benefit**: Easy level construction and modification

## Dependencies

### Unity Packages
- `com.unity.render-pipelines.universal` (17.2.0) - URP
- `com.unity.inputsystem` (1.14.2) - Input System
- `com.unity.2d.animation` (12.0.2) - 2D Animation
- `com.unity.2d.sprite` (1.0.0) - 2D Sprites
- `com.unity.2d.tilemap` (1.0.0) - Tilemap system
- `com.unity.2d.spriteshape` (12.0.1) - SpriteShape
- `com.unity.timeline` (1.8.9) - Timeline system
- `com.unity.visualscripting` (1.9.8) - Visual Scripting

### Unity Modules
- Physics2D, Animation, Audio, UI, and other standard modules

## Design Patterns

### Prefab-Based Architecture
- Character and game objects as prefabs
- Easy instantiation and modification
- Consistent behavior across instances

### Component-Based Design
- Unity's component system
- Scripts attached to GameObjects
- Modular, reusable components

## Performance Considerations

### Unity Library Cache
- **Library/ folder**: 1.9GB of Unity-generated cache
- **Should be gitignored**: Regenerated by Unity
- **Contains**: PackageCache, Bee, Artifacts, BurstCache, ScriptAssemblies

### Asset Organization
- Organized asset folders for efficient loading
- Prefab system for optimized instantiation
- Sprite atlasing for better performance

## Build Configuration

### Render Pipeline
- URP Global Settings: `Assets/Settings/UniversalRenderPipelineGlobalSettings.asset`
- Renderer2D: `Assets/Settings/Renderer2D.asset`
- Scene Templates: Lit2D scene template available

### Project Settings
- Version control: Plastic SCM integration (`.plastic/` folder)
- Input System: New Input System enabled
- 2D Physics: Physics2D module enabled

## Related Documentation

- [Project Structure](project-structure.md) - File organization
- [README](../README.md) - Project overview
