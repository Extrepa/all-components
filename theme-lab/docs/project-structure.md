# Project Structure Documentation

**Project:** theme-lab
**Last Updated:** 2026-01-09

## Directory Structure

```
theme-lab/
├── package.json              # Dependencies and scripts
├── package-lock.json         # Locked dependency versions
├── tsconfig.json             # TypeScript configuration
├── vite.config.ts            # Vite configuration
├── .gitignore                # Git ignore rules
│
├── index.html                # Main HTML entry point
├── app.ts                    # Main application TypeScript (entry point)
├── constants.ts              # Theme constants and definitions
├── types.ts                  # TypeScript type definitions
├── utils.ts                  # Utility functions
│
├── README.md                 # Comprehensive project overview
├── INDEX.md                  # Workspace index
├── PROJECT_STATUS.md         # Project status tracking
├── DEPLOY.md                 # Deployment guide
├── CHANGELOG.md              # Version history
├── PLAN.md                   # Development plan
├── SUMMARY.md                # Project summary
├── TESTING.md                # Testing documentation
├── TYPESCRIPT_MIGRATION.md   # TypeScript migration notes
│
├── docs/                     # Extensive documentation
│   ├── README.md             # Documentation index
│   ├── FEATURES.md           # Complete feature list
│   ├── CAPABILITIES.md       # What Theme Lab can do
│   ├── API.md                # TypeScript and CSS API reference
│   ├── ARCHITECTURE.md       # Technical architecture
│   ├── USAGE.md              # Step-by-step usage guide
│   ├── CONTRIBUTING.md       # Contribution guidelines
│   ├── MILESTONES.md         # Development progress
│   ├── QUICK_REFERENCE.md    # Quick reference guide
│   └── project-structure.md  # This file
│
├── src/                      # Source TypeScript files
│   ├── app.ts                # Main application logic
│   ├── constants.ts          # Theme definitions array
│   └── utils.ts              # Utility functions
│
└── shared/                   # Shared CSS resources
    ├── theme.css             # All 25 theme definitions + design tokens
    └── ui/
        └── core.css          # Component styles wired to tokens
```

## File Organization

### Core Files

- **Configuration:** `package.json`, `tsconfig.json`, `vite.config.ts`
- **Entry Point:** `index.html` - Main HTML file that loads the application
- **Source Code:** Root TypeScript files (`app.ts`, `constants.ts`, `utils.ts`, `types.ts`) and `src/` directory
- **Styles:** `shared/theme.css` (all themes) and `shared/ui/core.css` (components)

### Documentation

- **Root Documentation:** 
  - `README.md` - Comprehensive overview (400+ lines)
  - `INDEX.md` - Workspace index
  - `PROJECT_STATUS.md` - Status tracking
  - `DEPLOY.md` - Deployment instructions
  - Additional docs: `CHANGELOG.md`, `PLAN.md`, `SUMMARY.md`, `TESTING.md`, `TYPESCRIPT_MIGRATION.md`

- **docs/ directory:** 9 detailed documentation files covering all aspects of the project

### Build and Distribution

- **Vite Build:** `dist/` directory (generated by `npm run build`)
- **Node Modules:** `node_modules/` (dev dependencies only)
- **No Runtime Dependencies:** Zero runtime dependencies, pure HTML/CSS/TS

## Key Directories

### `shared/theme.css` - Design Token System

The core of the theme system. Contains:

**Base Design Tokens (Shared Across All Themes):**
- Border radius scale: `--radius-sm`, `--radius-md`, `--radius-lg`
- Shadow definitions: `--shadow-soft`, `--shadow-strong`
- Transition timings: `--transition-fast`, `--transition-med`
- Structural properties: `--border-width`, `--border-radius-card`

**Layout Tokens:**
- Density mode: `--layout-density` (compact | cozy | spacious)
- Sidebar dimensions: `--layout-sidebar-width`, `--layout-sidebar-padding`
- Preview area spacing: `--layout-preview-padding`, `--layout-preview-gap`
- Card spacing: `--layout-card-padding-x`, `--layout-card-padding-y`, `--layout-card-gap`

**25 Theme Definitions:**
Each theme block (`:root[data-theme="theme-id"]`) defines:
- Background colors: `--bg`, `--bg-alt`
- Surface colors: `--surface`, `--surface-alt`
- Border colors: `--border`, `--border-soft`
- Accent colors: `--accent`, `--accent-alt`, `--accent-soft`, `--accent-boost`
- Text colors: `--text`, `--muted`
- Action colors: `--danger`, `--success`
- Gradient tokens: `--border-gradient-from`, `--border-gradient-to`

**Theme IDs:**
- errl-core, errl-deepsea, errl-sunset, errl-forest, errl-night-sky
- errl-neon-dream, errl-void, errl-cotton-candy, errl-gold, errl-holographic
- errl-lava-lamp, errl-crystal-cave, errl-pastel-gloom, errl-aurora
- errl-terminal, errl-acid-rain, errl-bubblegum, errl-midnight-ocean
- errl-desert-dusk, errl-mint-choc, errl-plasma, errl-rainbow-orb
- errl-ice, errl-bruised-peach, errl-mono

### `shared/ui/core.css` - Component Styles

Component classes that use the design tokens:

**Buttons:**
- `.btn`, `.btn-primary`, `.btn-outline`, `.btn-ghost`, `.btn-subtle`, `.btn-sm`

**Cards:**
- `.card`, `.card-header`, `.card-body`, `.card-span`

**Inputs:**
- `.field`, `.field-label`, `.input`

**Toggles:**
- `.toggle`, `.toggle-track`, `.toggle-thumb`, `.toggle-label`

**Badges:**
- `.badge`, `.badge-alt`, `.badge-soft`

**Typography:**
- `.text-muted`

All styles use CSS custom properties, so components automatically adapt to the active theme.

### `src/` - TypeScript Source

**app.ts:** Main application logic
- Theme switching functionality
- Layout control handlers
- Export functionality (JSON, CSS, code snippets)
- DOM manipulation for theme application
- Event handlers for UI interactions

**constants.ts:** Theme definitions array
- `THEMES` array with all 25 theme definitions
- Theme metadata (id, label)
- Presets storage key

**utils.ts:** Utility functions
- Theme export functions
- Code snippet generation
- Helper functions for theme operations

**Root Level Files:**
- Same structure as `src/` - appears to be duplicate or legacy structure
- May be part of migration to `src/` directory

### `docs/` - Documentation

Comprehensive documentation covering:

- **README.md** - Documentation index and navigation
- **FEATURES.md** - Complete feature list
- **CAPABILITIES.md** - What Theme Lab can accomplish
- **API.md** - TypeScript API and CSS custom properties reference
- **ARCHITECTURE.md** - Technical architecture and design decisions
- **USAGE.md** - Step-by-step usage instructions
- **CONTRIBUTING.md** - Guidelines for contributing themes and improvements
- **MILESTONES.md** - Development progress and milestones
- **QUICK_REFERENCE.md** - Quick reference guide

## File Naming Conventions

- **TypeScript:** camelCase (e.g., `app.ts`, `constants.ts`, `utils.ts`)
- **CSS:** kebab-case (e.g., `theme.css`, `core.css`)
- **HTML:** kebab-case (e.g., `index.html`)
- **Markdown:** UPPERCASE (e.g., `README.md`, `PROJECT_STATUS.md`, `API.md`)
- **Configuration:** lowercase (e.g., `package.json`, `tsconfig.json`, `vite.config.ts`)

## Import/Export Structure

- **ES Modules:** All TypeScript files use ES6 import/export syntax
- **TypeScript:** Full TypeScript support with type definitions
- **CSS:** Linked in HTML via `<link>` tags
- **No Bundler for Runtime:** Vite is used for development server and build, but the built output can run without any bundler

**Example Imports:**
```typescript
import type { Theme } from './types.js';
import { THEMES } from './constants.js';
```

**CSS Loading:**
```html
<link rel="stylesheet" href="./shared/theme.css" />
<link rel="stylesheet" href="./shared/ui/core.css" />
<script type="module" src="./app.js"></script>
```

## Theme System Architecture

### CSS Custom Properties Pattern

All theming is done through CSS custom properties:

1. **Base tokens** defined in `:root` - shared across all themes
2. **Theme-specific tokens** defined in `:root[data-theme="theme-id"]` - override base colors
3. **Components** use `var(--token-name)` to reference tokens
4. **Theme switching** changes `data-theme` attribute on `<html>` element

### Layout Control System

Layout controls use `data-*` attributes on `<html>`:

- `data-density="compact|cozy|spacious"` - Controls spacing
- `data-borders="on|off"` - Toggle borders
- `data-shadows="on|off"` - Toggle shadows
- `data-sidebar-bg="gradient|solid"` - Sidebar background style
- `data-header="show|hide"` - Header visibility

These attributes are controlled via JavaScript in `app.ts`.

### Export System

Theme Lab can export themes in multiple formats:

1. **JSON:** Structured theme data
2. **CSS:** CSS custom properties block
3. **Code Snippets:** For React, Tailwind, styled-components, Emotion, TypeScript

Export functions are in `app.ts` and use the current theme's CSS custom properties.

## Integration Patterns

### Plain HTML Integration

1. Copy `shared/theme.css` and `shared/ui/core.css`
2. Set `data-theme` attribute on `<html>`
3. Use component classes (`.btn`, `.card`, etc.)

### React/Next.js Integration

1. Import CSS files in `_app.js` or layout
2. Set theme dynamically with `document.documentElement.setAttribute('data-theme', 'theme-id')`
3. Use component classes

### Framework-Agnostic

The theme system is completely framework-agnostic - it's pure CSS custom properties that work with any framework or vanilla HTML.
